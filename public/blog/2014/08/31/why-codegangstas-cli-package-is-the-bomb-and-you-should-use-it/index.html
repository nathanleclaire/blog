
<!doctype html>
<!-- START OF _layouts/default.html -->
<html style="display:none;" lang="en">
	<head>
		<meta charset="utf-8">
		<meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible" >
		<meta content="width=device-width,initial-scale=1" name="viewport">
		<meta content="I'm a solution delivery and technology expert.  I write about code (back-end and front-end), entrepreneurship, and life.  I'm obsessed with application performance, user experience, and shipping." name="description">
		<meta content="nathan leclaire" name="author">
		
		<title>Why codegangsta's cli package is the bomb, and you should use it &mdash; nathan leclaire | I care, I share, I'm Nathan LeClaire.</title>
		
        <link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
		<link href="/stylesheets/main.css" rel="stylesheet">
		
		<script>
		   if(self == top) {
			   document.documentElement.style.display = 'block'; 
		   } else {
			   top.location = self.location; 
		   }
		</script>
		<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.11.0/jquery.js"></script>
		<script src="/js/jquery.modal.min.js"></script>
		<script src="/js/fuse.min.js"></script>
	</head>
	<body>
		<div class="wrap">
			<div id="sidebar">
				<header>
					<div class="title">
						<a href="http://nathanleclaire.com">
							<img src="/images/nateface.jpeg" class="nateface" /> 
							nathan leclaire 
						</a>
					</div>
					<p class="slogan">I care, I share, I'm Nathan LeClaire.</p>
					<div class="navi">
						<ul>
							<li><a href="/about/">About</a></li>
							<li><a href="/blog/archives">Archives</a></li>
							<li><a href="/atom.xml">RSS</a></li>
						</ul>
					</div> <!-- // .navi -->
					<div id="sidebar-email">
						<a href="mailto:nathan.leclaire@gmail.com">nathan.leclaire@gmail.com</a>
					</div>
				</header>
				<span id="shameless-self-promotion">
				<!-- Begin MailChimp Signup Form -->

				<div id="mc_embed_signup">
				<form action="https://nathanleclaire.us3.list-manage.com/subscribe/post?u=bb81abde21debade7a3b6c8f8&amp;id=a77a90269c" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
					<label for="mce-EMAIL">Get my essays about tech delivered to your inbox</label>
					<input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="email@domain.com" required>
					<input type="submit" value="Go" name="subscribe" id="mc-embedded-subscribe" class="button">
					<!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
				    <div style="position: absolute; left: -5000px;"><input type="text" name="b_bb81abde21debade7a3b6c8f8_a77a90269c" value=""></div>
				</form>
				</div>
				<!--End mc_embed_signup-->
				
				<p>Quickly search the archive:</p>
				<input type="text" placeholder="Fuzzy search by keyword (e.g. Angular)" id="archive-search">
				<img src="/images/magnifying-glass.png" id="search-icon" />
				<ul id="archive-search-populate">
				</ul>
				
				</span>
			</div>
			<div id="content">
				<!-- START OF _layouts/post.html -->

<!-- START OF _includes/article.html -->
<article>
    <header>
        <h1>
            <a href="/blog/2014/08/31/why-codegangstas-cli-package-is-the-bomb-and-you-should-use-it/">Why codegangsta's cli package is the bomb, and you should use it</a>
        </h1>
        <h3 style="text-align: center;">by Nathan LeClaire</h3>
        <time>31 August 2014</time>
    </header>
    <div>
        <h1>go go go</h1>

<p><img src="/images/cli/codegangsta.png" title="Blowing other gangsters (and coders) to smithereens." ></p>

<p>This week I'm writing an opinion piece on why I think that <a href="https://github.com/codegangsta/cli">codegangsta</a>'s command line interface package for Golang is great, and you should use it.  Nice job, contributors!</p>

<p>The reasons are:</p>

<ol>
<li>Well designed, and a pleasure to use</li>
<li>Lets you get stuff done</li>
<li>Flags are how they're meant to be</li>
<li>Well documented</li>
<li>Friendly community</li>
</ol>


<h2>Well designed, and a pleasure to use</h2>

<p>This is the library that you dreamed about when you first learned how to use <code>argv</code> and <code>argc</code> in C.  If you've ever tried parsing <code>argv</code> by hand (without relying on an external library), you know that it can be a pain and require a lot of strenuous fixing up with duct tape in order to get working effectively.  Well no more now.  Just:</p>

<ul>
<li><code>import "github.com/codegangsta/cli"</code></li>
<li>get an instance of <code>cli.App</code></li>
<li>set actions and usage, and quickly get to making the thing you set out to!!</li>
</ul>


<p>As evidenced by the popularity of <a href="https://github.com/codegangsta/martini">Martini</a> and <a href="https://github.com/codegangsta/negroni">Negroni</a>, codegangsta has good taste when it comes to designing APIs for developers to consume.  I've used <code>cli</code> for a variety of things now, and it's very flexible while still be incredibly effective.</p>

<p>I mean come on, this just <em>looks</em> incredibly fun:</p>

<div class='bogus-wrapper'><notextile><figure class='code'><pre><code>/* greet.go */
package main

import (
  &quot;os&quot;
  &quot;github.com/codegangsta/cli&quot;
)

func main() {
  app := cli.NewApp()
  app.Name = &quot;greet&quot;
  app.Usage = &quot;fight the loneliness!&quot;
  app.Action = func(c *cli.Context) {
    println(&quot;Hello friend!&quot;)
  }

  app.Run(os.Args)
}</code></pre></figure></notextile></div>


<p>And gives you stuff like <em>this</em>:</p>

<div class='bogus-wrapper'><notextile><figure class='code'><pre><code>$ greet help
NAME:
    greet - fight the loneliness!

USAGE:
    greet [global options] command [command options] [arguments...]

VERSION:
    0.0.0

COMMANDS:
    help, h  Shows a list of commands or help for one command

GLOBAL OPTIONS
    --version   Shows version information</code></pre></figure></notextile></div>


<p>From the manual:</p>

<blockquote><p>cli.go also generates some bitchass help text:</p></blockquote>

<p>+1</p>

<h2>Lets you get stuff done</h2>

<p>I sort of hinted at this, but this is what I see as the main advantage of <code>cli</code> over using nothing, or just using raw <code>flag</code> parsing, it allows you to handle the inevitable complexity of developing a command line application before it even becomes an issue.</p>

<p>I've long noticed that developers love libraries the most when you barely even notice they're there.  The framework or tool becomes like an extension of your own mind in solving the problem.  In my opinion, jQuery is like this.  It inspires such a raw explosion of creativity in the people using it that its explosion and proliferation was inevitable.  Instead of making you cobble together vanilla JavaScript to get what you want, you can work way further up in many different ways which are <em>all right</em>.  Go is like that too, with <code>gofmt</code> and Go's error handling patterns etc. at play everyone's code starts to look the same.</p>

<p>That's what <code>cli</code> is like.  It just gets out of the way, and lets you write the application that you actually came here to write.</p>

<h2>Flags are how they're meant to be</h2>

<p>I have to admit, I <em>LOVE</em> flags.  I grew up on a steady diet of UNIX weirdness and writing apps that have crazy flag fun is fantastic.  <code>cli</code>'s API is easy to follow.  Even a complicated structure retains order.  For instance, a sample from a rewrite of <a href="fig">fig</a> in Go that I've been doing:</p>

<div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span></span></figcaption><pre class=go><code>// global level flags
app.Flags = []gangstaCli.Flag{
    gangstaCli.BoolFlag{
        Name:  &quot;verbose&quot;,
        Usage: &quot;Show more output&quot;,
    },
    gangstaCli.StringFlag{
        Name:  &quot;f, file&quot;,
        Usage: &quot;Specify an alternate fig file (default: fig.yml)&quot;,
    },
    gangstaCli.StringFlag{
        Name:  &quot;p, project-name&quot;,
        Usage: &quot;Specify an alternate project name (default: directory name)&quot;,
    },
}

// Commands
app.Commands = []gangstaCli.Command{
    {
        Name: &quot;build&quot;,
        Flags: []gangstaCli.Flag{
            gangstaCli.BoolFlag{
                Name:  &quot;no-cache&quot;,
                Usage: &quot;Do not use cache when building the image.&quot;,
            },
        },
        Usage:  &quot;Build or rebuild services&quot;,
        Action: CmdBuild,
    },
    // etc...
    {
        Name: &quot;run&quot;,
        Flags: []gangstaCli.Flag{
            gangstaCli.BoolFlag{
                Name:  &quot;d&quot;,
                Usage: &quot;Detached mode: Run container in the background, print new container name.&quot;,
            },
            gangstaCli.BoolFlag{
                Name:  &quot;T&quot;,
                Usage: &quot;Disables psuedo-tty allocation. By default `fig run` allocates a TTY.&quot;,
            },
            gangstaCli.BoolFlag{
                Name:  &quot;rm&quot;,
                Usage: &quot;Remove container after run.  Ignored in detached mode.&quot;,
            },
            gangstaCli.BoolFlag{
                Name:  &quot;no-deps&quot;,
                Usage: &quot;Don't start linked services.&quot;,
            },
        },
        Usage:  &quot;Run a one-off command&quot;,
        Action: CmdRm,
    },
    
    {
        Name: &quot;up&quot;,
        Flags: []gangstaCli.Flag{
            gangstaCli.BoolFlag{
                Name:  &quot;watch&quot;,
                Usage: &quot;Watch build directory for changes and auto-rebuild/restart&quot;,
            },
            gangstaCli.BoolFlag{
                Name:  &quot;d&quot;,
                Usage: &quot;Detached mode: Run containers in the background, print new container names.&quot;,
            },
            gangstaCli.BoolFlag{
                Name:  &quot;k,kill&quot;,
                Usage: &quot;Kill instead of stop on terminal stignal&quot;,
            },
            gangstaCli.BoolFlag{
                Name:  &quot;no-clean&quot;,
                Usage: &quot;Don't remove containers after termination signal interrupt (CTRL+C)&quot;,
            },
            gangstaCli.BoolFlag{
                Name:  &quot;no-deps&quot;,
                Usage: &quot;Don't start linked services.&quot;,
            },
            gangstaCli.BoolFlag{
                Name:  &quot;no-recreate&quot;,
                Usage: &quot;If containers already exist, don't recreate them.&quot;,
            },
        },
        Usage:  &quot;Create and start containers&quot;,
        Action: CmdUp,
    },
}</code></pre></figure></notextile></div>


<p>It always drove me crazy that Golang's default <code>flag</code> package preferred <code>-name</code> style (one hyphen) flags  by default, although there may be a good reason for it that I'm not aware of.  <code>cli</code> does <code>--long-flags</code> this way by default.  Yay!</p>

<p>It supports multiple forms of flags (e.g. <code>-v</code> and <code>--verbose</code>).  You get subcommands too (e.g. <code>git remote add</code>, <code>git remote rm</code>).  It's an incredible amount of power and flexibility.</p>

<h2>Well documented</h2>

<p>I was able to divine pretty much everything I needed to write an effective app with this library quite easily from the documentation.  'Nuff said.  That's a rare honor in this world of half-baked Github repos, Gists, and JSFiddles.</p>

<h2>Friendly community</h2>

<p>codegangsta and crew are pretty active on Github (and I would guess IRC, but I don't know this for a fact).  Proposals for new features and the like are not met with hostility on Github, instead they are discussed with civility.  I hate seeing Github issues devolve into flame wars and I definitely think community matters a lot in weeding out the bad actors to keep the experience of discussing software a pleasurable one.</p>

<h1>What are the downsides?</h1>

<p>Like anything new, <code>cli</code> has a few downsides too.</p>

<ul>
<li><a href="https://github.com/codegangsta/cli/issues/56">this bug about the flag parsing terminator (<code>--</code>)</a></li>
<li>Performance (probably not a concern for most apps)</li>
<li>Still early in development</li>
</ul>


<p>In spite of these issues, obviously I think <code>cli</code> is really great for getting applications out the door quickly with Go.  I am hopeful that its great design and philosophy will influence future libraries, frameworks, and software.  :thumbsup:</p>

<h1>Fin.</h1>

<p>I like this library.  Use it.</p>

<p>Until next time, stay sassy Internet.</p>

<ul>
<li>Nathan</li>
</ul>


    </div>
    <footer>
        <p>If you find a mistake or issue in this article, please <a id="pull-request-link" taget="_blank" href="">fix it and submit a pull request on Github</a> (must be signed in to your GitHub account).</p>
        <a target="_blank" style="display: block;" href="https://twitter.com/share?url=http://nathanleclaire.com/blog/2014/08/31/why-codegangstas-cli-package-is-the-bomb-and-you-should-use-it/&text=Great article from @upthecyberpunks : " class="social-media-spam">Tweet It</a>
        <a target="_blank" href="https://news.ycombinator.com/submitlink?u=http://nathanleclaire.com/blog/2014/08/31/why-codegangstas-cli-package-is-the-bomb-and-you-should-use-it/&t=" class="social-media-spam">Submit to Hacker News</a>
        <a target="_blank" style="display: block !important;" href="http://www.reddit.com/submit?url=http://nathanleclaire.com/blog/2014/08/31/why-codegangstas-cli-package-is-the-bomb-and-you-should-use-it/&title=" class="social-media-spam">Submit to Reddit</a>
        <br>


		



  
		
			Tagged under
		
    <a class='category' href='/blog/categories/go/'>go</a>
	

 

        <a target="_blank" style="display: block !important;" href="http://discourse.nathanleclaire.com">Chat in the forum!!</a>
    
        <div id="discourse-comments"></div>
    </footer>
    
</article>
<!-- END OF _includes/article.html -->


<!-- END OF _/layouts/post.html -->

			</div>
			<form class="modal" id="mailing-list-modal" action="http://nathanleclaire.us3.list-manage.com/subscribe/post?u=bb81abde21debade7a3b6c8f8&amp;id=a77a90269c" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
					<h1>Like what you're reading?</h1>
					<img src="/images/happy-reader.jpeg"></img>
					<p style="display: block;" for="mce-EMAIL">Did you enjoy this article?  You might want to sign up for my mailing list.  I send out weekly-ish essays about hot new tech stuff.</p>
					<input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL-modal" placeholder="email@domain.com" required>
					<input type="submit" value="Go" name="subscribe" id="mc-embedded-subscribe" class="button">
					<!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
				    <div style="position: absolute; left: -5000px;"><input type="text" name="b_bb81abde21debade7a3b6c8f8_a77a90269c" value=""></div>
			</form>
		</div> <!-- // .wrap -->
	<script type="text/javascript" src="/js/prettify.js"></script>
	<script>
	function supports_html5_storage() {
	  try {
		return 'localStorage' in window && window['localStorage'] !== null;
	  } catch (e) {
		return false;
	  }
	}

	$(document).ready(function () {
	    var fuse;

	    $("code").addClass("prettyprint");
	    prettyPrint();

	    $.getJSON("/articles.json", function(data) {
	    	// input:
	    	// [{title: "Learn Node.js The Troll Way", href: "blahblah"}, { ... }]
	    	fuse = new Fuse(data, {
	    	    keys: ['title', 'tags']
	    	});
	    });
	    
	    $("#archive-search").keyup(function() {
	    	var $this = $(this);
	    	var val = $this.val();
	    	var result = fuse.search(val).slice(0, 1);
	    	$list = $("#archive-search-populate");
	    	$list.empty();
	    	if (result.length > 0 && val !== '') {
	    	    $.each(result, function(i, e) {
	    	        $list.append('<li><a href="'+ e.href +'">'+ e.title +'</a></li>');
	    	    });
	    	}
	    });
	    
	    $(".social-media-spam").each(function () {
	        var e = $(this);
	        var t = e.attr("href");
	        var n = $("article header h1 a").html();
	        t += encodeURIComponent(n);
	        e.attr("href", t)
	    });

	    var e = window.location.href;
	    var t = $("#pull-request-link");
	    var n = "https://github.com/nathanleclaire/blog/edit/master/source/_posts/" + e.split("/").slice(4, 8).join("-") + ".markdown";
	    t.attr("href", n);

	    // Only offer mailing list once
		var tryModal = localStorage["modal"] ? false : true;

		// Don't offer mailing list to people on mobile
		if ($(window).width() < 720) {
			tryModal = false;
		}

		$('#mc-embedded-subscribe').click(function() {
			// Don't offer mailing list if people have
			// already clicked to try and sign up
			tryModal = false;
			localStorage["modal"] = "true";
		});

		$(window).scroll(function () {
			if (tryModal && document.URL.indexOf('archives') === -1 && document.URL.indexOf('about') === -1) {
				if (($(window).scrollTop() + $(window).height()) === $(document).height()) {
					if (supports_html5_storage()) {
						window.setTimeout(function() {
							$('#mailing-list-modal').modal({
								fadeDuration: 250
							});
							$('#mce-EMAIL-modal').focus();
							tryModal = false;
							localStorage["modal"] = "true";
						}, 1000);
					}
				}
			}
		});


	});
	</script>
	<script type="text/javascript">
	if ('/blog/2014/08/31/why-codegangstas-cli-package-is-the-bomb-and-you-should-use-it/' !== '/blog/index.html') {
	  var discourseUrl = "http://discourse.nathanleclaire.com/",
	      discourseEmbedUrl = 'http://nathanleclaire.com/blog/2014/08/31/why-codegangstas-cli-package-is-the-bomb-and-you-should-use-it/';

	  (function() {
	    var d = document.createElement('script'); d.type = 'text/javascript'; d.async = true;
	      d.src = discourseUrl + 'javascripts/embed.js';
	    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(d);
	  })();
	}
	</script>
	<script>
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
	  ga('create', 'UA-26758702-2', 'nathanleclaire.com');
	  ga('send', 'pageview');
	</script>
	</body>
</html>
<!-- END OF _layouts/default.html -->
